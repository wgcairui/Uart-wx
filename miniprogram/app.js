"use strict";
App({
    globalData: {
        userInfo: {},
        user: '',
        userGroup: '',
        userName: '',
        userAvanter: '',
        userTel: ''
    },
    onLaunch: function () {
        const updateManager = wx.getUpdateManager();
        updateManager.onCheckForUpdate(function (res) {
            wx.showToast({ title: res.hasUpdate ? '有新版本,正在后台更新' : '最新版', icon: 'none' });
            console.log("新版本：" + res.hasUpdate);
        });
        updateManager.onUpdateReady(function () {
            wx.showModal({
                title: '更新提示',
                content: '新版本已经准备好，是否重启应用？',
                success(res) {
                    if (res.confirm) {
                        updateManager.applyUpdate();
                    }
                }
            });
        });
        updateManager.onUpdateFailed(function () {
        });
    },
    onHide() {
        wx.clearStorage();
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQztBQUViLEdBQUcsQ0FBQztJQUNBLFVBQVUsRUFBRTtRQUNSLFFBQVEsRUFBRSxFQUFtQjtRQUM3QixJQUFJLEVBQUUsRUFBRTtRQUNSLFNBQVMsRUFBRSxFQUFFO1FBQ2IsUUFBUSxFQUFFLEVBQUU7UUFDWixXQUFXLEVBQUUsRUFBRTtRQUNmLE9BQU8sRUFBRSxFQUFFO0tBQ2Q7SUFDRCxRQUFRLEVBQUU7UUFDTixNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtRQUMzQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxHQUFHO1lBRXhDLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUE7WUFDNUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ3ZDLENBQUMsQ0FBQyxDQUFBO1FBRUYsYUFBYSxDQUFDLGFBQWEsQ0FBQztZQUN4QixFQUFFLENBQUMsU0FBUyxDQUFDO2dCQUNULEtBQUssRUFBRSxNQUFNO2dCQUNiLE9BQU8sRUFBRSxrQkFBa0I7Z0JBQzNCLE9BQU8sQ0FBQyxHQUFHO29CQUNQLElBQUksR0FBRyxDQUFDLE9BQU8sRUFBRTt3QkFFYixhQUFhLENBQUMsV0FBVyxFQUFFLENBQUE7cUJBQzlCO2dCQUNMLENBQUM7YUFDSixDQUFDLENBQUE7UUFDTixDQUFDLENBQUMsQ0FBQTtRQUVGLGFBQWEsQ0FBQyxjQUFjLENBQUM7UUFFN0IsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBQ0QsTUFBTTtRQUNGLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQTtJQUNyQixDQUFDO0NBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbkFwcCh7XG4gICAgZ2xvYmFsRGF0YToge1xuICAgICAgICB1c2VySW5mbzoge30gYXMgVWFydC5Vc2VySW5mbyxcbiAgICAgICAgdXNlcjogJycsXG4gICAgICAgIHVzZXJHcm91cDogJycsXG4gICAgICAgIHVzZXJOYW1lOiAnJyxcbiAgICAgICAgdXNlckF2YW50ZXI6ICcnLFxuICAgICAgICB1c2VyVGVsOiAnJ1xuICAgIH0sXG4gICAgb25MYXVuY2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlTWFuYWdlciA9IHd4LmdldFVwZGF0ZU1hbmFnZXIoKVxuICAgICAgICB1cGRhdGVNYW5hZ2VyLm9uQ2hlY2tGb3JVcGRhdGUoZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgLy8g6K+35rGC5a6M5paw54mI5pys5L+h5oGv55qE5Zue6LCDXG4gICAgICAgICAgICB3eC5zaG93VG9hc3QoeyB0aXRsZTogcmVzLmhhc1VwZGF0ZSA/ICfmnInmlrDniYjmnKws5q2j5Zyo5ZCO5Y+w5pu05pawJyA6ICfmnIDmlrDniYgnLCBpY29uOiAnbm9uZScgfSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5paw54mI5pys77yaXCIgKyByZXMuaGFzVXBkYXRlKVxuICAgICAgICB9KVxuXG4gICAgICAgIHVwZGF0ZU1hbmFnZXIub25VcGRhdGVSZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3eC5zaG93TW9kYWwoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAn5pu05paw5o+Q56S6JyxcbiAgICAgICAgICAgICAgICBjb250ZW50OiAn5paw54mI5pys5bey57uP5YeG5aSH5aW977yM5piv5ZCm6YeN5ZCv5bqU55So77yfJyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzKHJlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmNvbmZpcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaWsOeahOeJiOacrOW3sue7j+S4i+i9veWlve+8jOiwg+eUqCBhcHBseVVwZGF0ZSDlupTnlKjmlrDniYjmnKzlubbph43lkK9cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1hbmFnZXIuYXBwbHlVcGRhdGUoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB1cGRhdGVNYW5hZ2VyLm9uVXBkYXRlRmFpbGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIOaWsOeJiOacrOS4i+i9veWksei0pVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgb25IaWRlKCkge1xuICAgICAgICB3eC5jbGVhclN0b3JhZ2UoKVxuICAgIH1cbn0pOyJdfQ==