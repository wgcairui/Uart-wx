"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.registerUser = exports.getphonenumber = exports.login = void 0;
var globalData = getApp().globalData;
exports.login = function (data) {
    return RequestUart({ url: "code2Session", data: data });
};
exports.getphonenumber = function (data) {
    return RequestUart({ url: "getphonenumber", data: data });
};
exports.registerUser = function (data) {
    return RequestUart({ url: "register", data: data });
};
function RequestUart(object) {
    return new Promise(function (resolve, reject) {
        wx.request({
            url: globalData.apiUrl + object.url,
            data: Object.assign({ appid: globalData.openid }, object.data),
            method: object.method || "GET",
            success: function (res) { return resolve(res.data); },
            fail: function (e) { return reject(e); }
        });
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQVEsSUFBQSxVQUFVLEdBQUssTUFBTSxFQUFjLFdBQXpCLENBQXlCO0FBRTlCLFFBQUEsS0FBSyxHQUFHLFVBQUMsSUFBeUI7SUFDN0MsT0FBTyxXQUFXLENBQUMsRUFBQyxHQUFHLEVBQUMsY0FBYyxFQUFDLElBQUksTUFBQSxFQUFDLENBQUMsQ0FBQTtBQUMvQyxDQUFDLENBQUE7QUFFWSxRQUFBLGNBQWMsR0FBRyxVQUFDLElBQXlDO0lBQ3RFLE9BQU8sV0FBVyxDQUFDLEVBQUMsR0FBRyxFQUFDLGdCQUFnQixFQUFDLElBQUksTUFBQSxFQUFDLENBQUMsQ0FBQTtBQUNqRCxDQUFDLENBQUE7QUFFWSxRQUFBLFlBQVksR0FBRyxVQUFDLElBQW9FO0lBQy9GLE9BQU8sV0FBVyxDQUFDLEVBQUMsR0FBRyxFQUFDLFVBQVUsRUFBQyxJQUFJLE1BQUEsRUFBQyxDQUFDLENBQUE7QUFDM0MsQ0FBQyxDQUFBO0FBR0QsU0FBUyxXQUFXLENBQUMsTUFBb0Q7SUFDdkUsT0FBTyxJQUFJLE9BQU8sQ0FBb0IsVUFBQyxPQUFPLEVBQUMsTUFBTTtRQUNuRCxFQUFFLENBQUMsT0FBTyxDQUFDO1lBQ1QsR0FBRyxFQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUc7WUFDbEMsSUFBSSxFQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBQyxLQUFLLEVBQUMsVUFBVSxDQUFDLE1BQU0sRUFBQyxFQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDekQsTUFBTSxFQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksS0FBSztZQUM3QixPQUFPLEVBQUUsVUFBQSxHQUFHLElBQUksT0FBQSxPQUFPLENBQUMsR0FBRyxDQUFDLElBQVcsQ0FBQyxFQUF4QixDQUF3QjtZQUN4QyxJQUFJLEVBQUUsVUFBQSxDQUFDLElBQUksT0FBQSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQVQsQ0FBUztTQUNyQixDQUFDLENBQUE7SUFDSixDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGdsb2JhbERhdGEgfSA9IGdldEFwcDxJQXBwT3B0aW9uPigpXG4vLyDnmbvlvZVcbmV4cG9ydCBjb25zdCBsb2dpbiA9IChkYXRhOiB7IGpzX2NvZGU6IHN0cmluZyB9KSA9PiB7XG4gIHJldHVybiBSZXF1ZXN0VWFydCh7dXJsOlwiY29kZTJTZXNzaW9uXCIsZGF0YX0pXG59XG4vLyDop6Plr4bnlLXor53lrZfnrKbkuLJcbmV4cG9ydCBjb25zdCBnZXRwaG9uZW51bWJlciA9IChkYXRhOiB7IGVuY3J5cHRlZERhdGE6IHN0cmluZyxpdjpzdHJpbmcgfSkgPT4ge1xuICByZXR1cm4gUmVxdWVzdFVhcnQoe3VybDpcImdldHBob25lbnVtYmVyXCIsZGF0YX0pXG59XG4vLyDms6jlhoxcbmV4cG9ydCBjb25zdCByZWdpc3RlclVzZXIgPSAoZGF0YTp7dXNlcjpzdHJpbmcsbmFtZTpzdHJpbmcsdGVsOnN0cmluZyxtYWlsOnN0cmluZyxhdmFudGVyOnN0cmluZ30pPT57XG4gIHJldHVybiBSZXF1ZXN0VWFydCh7dXJsOlwicmVnaXN0ZXJcIixkYXRhfSlcbn1cblxuLy8g6K+35rGCdWFydFxuZnVuY3Rpb24gUmVxdWVzdFVhcnQob2JqZWN0Ont1cmw6c3RyaW5nLGRhdGE6T2JqZWN0LG1ldGhvZD86XCJHRVRcInxcIlBPU1RcIn0pe1xuICByZXR1cm4gbmV3IFByb21pc2U8QXBvbGxvTW9uZ29SZXN1bHQ+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICB3eC5yZXF1ZXN0KHtcbiAgICAgIHVybDpnbG9iYWxEYXRhLmFwaVVybCArIG9iamVjdC51cmwsXG4gICAgICBkYXRhOk9iamVjdC5hc3NpZ24oe2FwcGlkOmdsb2JhbERhdGEub3BlbmlkfSxvYmplY3QuZGF0YSksXG4gICAgICBtZXRob2Q6b2JqZWN0Lm1ldGhvZCB8fCBcIkdFVFwiLFxuICAgICAgc3VjY2VzczogcmVzID0+IHJlc29sdmUocmVzLmRhdGEgYXMgYW55KSxcbiAgICAgIGZhaWw6IGUgPT4gcmVqZWN0KGUpXG4gICAgfSlcbiAgfSlcbn0iXX0=